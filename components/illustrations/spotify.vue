<template>
    <div id="df-svg" data-aos="fade-in-out" data-aos-duration="1000" @mouseenter="animationElement">
        <svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 160">
            <g id="_Bar_" data-name="&amp;lt;Bar&amp;gt;">
                <path class="cls-1"
                    d="m165.37,71.2h0c2.96,0,5.37,2.41,5.37,5.38v6.85c0,2.97-2.4,5.38-5.37,5.38h0c-2.96,0-5.37-2.41-5.37-5.38v-6.85c0-2.97,2.4-5.38,5.37-5.38Z" />
                <path class="cls-1"
                    d="m185.24,32h0c2.96,0,5.37,2.41,5.37,5.38v85.25c0,2.97-2.4,5.38-5.37,5.38h0c-2.96,0-5.37-2.41-5.37-5.38V37.38c0-2.97,2.4-5.38,5.37-5.38Z" />
                <rect class="cls-1" x="199.74" y="65.6" width="10.74" height="28.8" rx="5.37" ry="5.37" />
                <rect class="cls-1" x="219.63" y="60" width="10.74" height="40" rx="5.37" ry="5.37" />
                <rect class="cls-1" x="239.5" y="65.6" width="10.74" height="28.8" rx="5.37" ry="5.37" />
                <rect class="cls-1" x="259.38" y="54.4" width="10.74" height="51.2" rx="5.37" ry="5.37" />
                <rect class="cls-1" x="279.25" y="48.8" width="10.74" height="62.4" rx="5.37" ry="5.37" />
                <rect class="cls-1" x="299.14" y="32" width="10.74" height="96" rx="5.37" ry="5.37" />
                <rect class="cls-1" x="319.01" y="37.6" width="10.74" height="84.8" rx="5.37" ry="5.37" />
                <rect class="cls-1" x="338.88" y="43.2" width="10.74" height="73.6" rx="5.37" ry="5.37" />
                <rect class="cls-1" x="358.75" y="60" width="10.74" height="40" rx="5.37" ry="5.37" />
                <rect class="cls-1" x="378.62" y="32" width="10.74" height="96" rx="5.37" ry="5.37" />
                <rect class="cls-1" x="398.51" y="32" width="10.74" height="96" rx="5.37" ry="5.37" />
                <path class="cls-1"
                    d="m423.75,43.2h0c2.96,0,5.37,2.41,5.37,5.38v62.85c0,2.97-2.4,5.38-5.37,5.38h0c-2.96,0-5.37-2.41-5.37-5.38v-62.85c0-2.97,2.4-5.38,5.37-5.38Z" />
                <path class="cls-1"
                    d="m443.62,37.6h0c2.96,0,5.37,2.41,5.37,5.38v74.05c0,2.97-2.4,5.38-5.37,5.38h0c-2.96,0-5.37-2.41-5.37-5.38V42.98c0-2.97,2.4-5.38,5.37-5.38Z" />
                <path class="cls-1"
                    d="m463.5,71.2h0c2.96,0,5.37,2.41,5.37,5.38v6.85c0,2.97-2.4,5.38-5.37,5.38h0c-2.96,0-5.37-2.41-5.37-5.38v-6.85c0-2.97,2.4-5.38,5.37-5.38Z" />
                <path class="cls-1"
                    d="m483.38,32h0c2.96,0,5.37,2.41,5.37,5.38v85.25c0,2.97-2.4,5.38-5.37,5.38h0c-2.96,0-5.37-2.41-5.37-5.38V37.38c0-2.97,2.4-5.38,5.37-5.38Z" />
                <path class="cls-1"
                    d="m503.26,37.6h0c2.96,0,5.37,2.41,5.37,5.38v74.05c0,2.97-2.4,5.38-5.37,5.38h0c-2.96,0-5.37-2.41-5.37-5.38V42.98c0-2.97,2.4-5.38,5.37-5.38Z" />
                <path class="cls-1"
                    d="m523.13,32h0c2.96,0,5.37,2.41,5.37,5.38v85.25c0,2.97-2.4,5.38-5.37,5.38h0c-2.96,0-5.37-2.41-5.37-5.38V37.38c0-2.97,2.4-5.38,5.37-5.38Z" />
                <path class="cls-1"
                    d="m543,43.2h0c2.96,0,5.37,2.41,5.37,5.38v62.85c0,2.97-2.4,5.38-5.37,5.38h0c-2.96,0-5.37-2.41-5.37-5.38v-62.85c0-2.97,2.4-5.38,5.37-5.38Z" />
                <path class="cls-1"
                    d="m562.87,54.4h0c2.96,0,5.37,2.41,5.37,5.38v40.45c0,2.97-2.4,5.38-5.37,5.38h0c-2.96,0-5.37-2.41-5.37-5.38v-40.45c0-2.97,2.4-5.38,5.37-5.38Z" />
                <path class="cls-1"
                    d="m582.76,71.2h0c2.96,0,5.37,2.41,5.37,5.38v6.85c0,2.97-2.4,5.38-5.37,5.38h0c-2.96,0-5.37-2.41-5.37-5.38v-6.85c0-2.97,2.4-5.38,5.37-5.38Z" />
                <path class="cls-1"
                    d="m602.63,71.2h0c2.96,0,5.37,2.41,5.37,5.38v6.85c0,2.97-2.4,5.38-5.37,5.38h0c-2.96,0-5.37-2.41-5.37-5.38v-6.85c0-2.97,2.4-5.38,5.37-5.38Z" />
            </g>
            <g id="_Spotify_" data-name="&amp;lt;Spotify&amp;gt;">
                <path class="cls-1"
                    d="m80,32c26.51,0,48,21.49,48,48s-21.49,48-48,48-48-21.49-48-48,21.49-48,48-48m21.97,69.12c.78-1.3.46-2.98-.75-3.89-.25-.18-.5-.35-.77-.5-2.99-1.78-6.17-3.24-9.47-4.35-5.97-1.95-12.21-2.95-18.5-2.94-2.13.11-4.27.19-6.4.37-3.81.34-7.6.94-11.33,1.79-.29.06-.58.15-.86.26-1.32.53-2.07,1.93-1.78,3.33.22,1.41,1.45,2.44,2.88,2.42.47-.02.95-.08,1.41-.19,4.55-1.03,9.19-1.64,13.86-1.84,3.61-.15,7.23.05,10.8.59,5.79.85,11.36,2.81,16.4,5.78.26.16.52.3.8.43,1.36.6,2.96.09,3.73-1.18m5.87-13.18c1.05-1.76.49-4.03-1.25-5.1l-.56-.34c-3.72-2.2-7.68-3.97-11.81-5.28-8.11-2.6-16.61-3.75-25.12-3.41-3.98.13-7.94.63-11.82,1.47-1.6.35-3.2.77-4.7,1.23-1.5.47-2.52,1.86-2.53,3.42-.04,1.54.88,2.94,2.3,3.52.86.31,1.81.31,2.67,0,5.4-1.56,10.99-2.35,16.61-2.34,4.25,0,8.48.4,12.66,1.18,5.33.96,10.49,2.67,15.33,5.09,1.06.54,2.08,1.15,3.12,1.73,1.74,1.07,4.01.54,5.1-1.18m.56-13.58c2.11,1.28,4.85.61,6.13-1.49.43-.71.66-1.52.65-2.35,0-.32,0-.64-.13-.96-.28-1.27-1.1-2.35-2.24-2.96-3.26-1.88-6.69-3.44-10.26-4.66-8.7-2.91-17.8-4.47-26.98-4.62-3.74-.11-7.48,0-11.2.34-3.51.3-7,.83-10.43,1.6-1.39.32-2.77.67-4.13,1.12-1.82.62-3.03,2.36-2.96,4.29.05,1.94,1.34,3.63,3.2,4.18.84.24,1.72.24,2.56,0,1.39-.37,2.8-.75,4.21-1.06,3.83-.8,7.71-1.28,11.62-1.46,3.41-.19,6.83-.19,10.24,0,3.28.2,6.54.58,9.78,1.15,4.65.78,9.2,2.04,13.58,3.76,2.2.92,4.34,1.99,6.4,3.2" />
            </g>
        </svg>
    </div>
</template>

<script setup lang="ts">
import color from '~/data/color.json'

const theme = useThemeStore()
import anime from 'animejs';

const { $anime } = useNuxtApp()

const animationElement = () => {
    $anime({
        targets: '#_Bar_ .cls-1',
        translateY: [
            { value: 20, easing: 'easeInOutQuad', duration: 150 },
            { value: -20, easing: 'easeInOutQuad', duration: 150 },
            { value: 0, easing: 'easeInOutQuad', duration: 300 }
        ],
        fill: [
            { value: color.secondary, easing: 'easeInOutQuad', duration: 300 },
            { value: color.tertiary, easing: 'easeInOutQuad', duration: 300 },
            { value: color.primary, easing: 'easeInOutQuad', duration: 300 }
        ],
        delay: function (el, i) { return i * 100 },
        // direction: 'alternate',
        // loop: true
    })
}

const animationOpacity = () => {
    $anime({
        targets: '#_Bar_ .cls-1',
        opacity: [
            { value: 0, easing: 'easeInOutQuad', duration: 150 },
            { value: 1, easing: 'easeInOutQuad', duration: 150 },
        ],
        translateY: [
            { value: 20, easing: 'easeInOutQuad', duration: 150 },
            { value: -20, easing: 'easeInOutQuad', duration: 150 },
            { value: 0, easing: 'easeInOutQuad', duration: 300 }
        ],
        fill: [
            { value: color.secondary, easing: 'easeInOutQuad', duration: 300 },
            { value: color.tertiary, easing: 'easeInOutQuad', duration: 300 },
            { value: color.primary, easing: 'easeInOutQuad', duration: 300 }
        ],
        delay: function (el, i) { return i * 100 },
        // direction: 'alternate',
        // loop: true
    })
}

const animationOpacityLeave = () => {
    anime.remove('#_Bar_ .cls-1')
    $anime({
        targets: '#_Bar_ .cls-1',
        opacity: [
            { value: 1, easing: 'easeInOutQuad', duration: 150 },
            { value: 0, easing: 'easeInOutQuad', duration: 150 },
        ],
    })
}

onMounted(() => {
    if (process.client) {
        document.addEventListener('aos:in', animationOpacity);
    }
})
</script>

<style lang="scss" scoped>
.light {
    stroke: color.adjust($light, $lightness: -15%);
    fill: color.adjust($light, $lightness: 15%);
}

.dark {
    stroke: $surface;
    fill: $surface;
}

.cls-1 {
    fill: $primary;
    stroke-width: 0px;
    transform: translateY(0);
    opacity: 0;
}

#df-svg {
    @extend %flex-center-el;
    position: relative;
    width: 20rem;

    #_Spotify_ .cls-1 {
        transition: 1s;
        opacity: 1;
    }

    &:hover {
        #_Spotify_ .cls-1 {
            fill: $secondary;
        }
    }
}
</style>